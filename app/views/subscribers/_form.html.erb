<%= turbo_frame_tag "subscribe-form" do %>
  <% if subscriber.id.present? %>
      <div class="h-44 flex justify-center flex-col items-center">
        <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>
        <dotlottie-player src="https://lottie.host/5b742dc0-c15e-422b-b6b3-1dcc6f77074d/uMbllN9WxQ.json" background="transparent" speed="1" style="width: 6rem; height: 6rem" direction="1" playMode="normal" loop autoplay></dotlottie-player>
        <small class="text-sm mt-4 font-bold text-center">Awesome! We'll update you when ticket sales begin.</small>
      </div>
  <% else %>
      <%= simple_form_for subscriber do |f| %>
        <div class="grid gap-2">
          <%= f.input :email, input_html: { class: "mt-2 flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm
                                file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" } %>
        </div>
        <small class="text-slate-500">
          Emails collected will only be used for the purpose of notifying you when ticket sales begin.
        </small>
        <div class="items-center flex p-4">
          <%= button_tag(type: 'submit') do %>
            <button
              class="w-full button mb-8 px-8 h-12 bg-rose-500 rounded-lg cursor-pointer select-none active:translate-y-2 active:[box-shadow:0_0px_0_0_#be123c,0_0px_0_0_#1b70f841] active:border-b-[0px] transition-all duration-150 [box-shadow:0_10px_0_0_#be123c,0_15px_0_0_#1b70f841]"
            >
              <span class="flex justify-center items-center h-full text-white font-bold text-lg"> <i class="fa fa-ticket text-white pr-2" aria-hidden="true"></i>Join Waitlist</span>
            </button>
          <% end %>
        </div>
      <% end %>
    <% end %>
<% end %>
